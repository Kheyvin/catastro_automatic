// @ts-nocheck
const FIELD_MAP={codeVia:{label:"[05]",keyword:"VA"},tipoVia:{label:"[06]",keyword:"TIPO"},nombreVia:{label:"[07]",keyword:"NOMBRE"},numberMunicipal:{label:"[09]",keyword:"MUNICIPAL"},numberInterior:{label:"[13]",keyword:"INTERIOR"},codeHu:{label:"[14]",keyword:"CDIGO"},nombreHu:{label:"[15]",keyword:"NOMBRE"},zonaSector:{label:"[16]",keyword:"ZONA"},numberManzana:{label:"[17]",keyword:"MANZANA"},numberLote:{label:"[18]",keyword:"LOTE"},numberSubLote:{label:"[19]",keyword:"SUB"},telefono:{label:"[34]",keyword:"TELFONO"},anexo:{label:"[35]",keyword:"ANEXO"},email:{label:"[36]",keyword:"CORREO"},observations:{selector:"#form_item_observacion"},supervisorName:{selector:"#form_item_supervisornombre"},technicianName:{selector:"#form_item_tecniconombre"},supervisorDate:{isModal:!0,modalTitle:"SUPERVISOR",selector:"#form_item_fecharegistro",isDate:!0},technicianDate:{isModal:!0,modalTitle:"TCNICO",selector:"#form_item_fecharegistro",isDate:!0}},CotitularidadState={licenseValid:!1};async function verifyLicenseForCotitularidad(){try{const e=await LicenseManager.verifyLicense();return e.valid?(CotitularidadState.licenseValid=!0,console.log("%c[FichaCatastral-Cotitularidad] Licencia verificada correctamente","color: #22c55e"),!0):(CotitularidadState.licenseValid=!1,console.log("%c[FichaCatastral-Cotitularidad] Licencia no v谩lida","color: #ef4444"),showLicenseNotification(e),!1)}catch(e){return console.error("[FichaCatastral-Cotitularidad] Error al verificar licencia:",e),CotitularidadState.licenseValid=!1,!1}}function showLicenseNotification(e){const a=document.getElementById("license-notification-kda");a&&a.remove();const i=document.createElement("div");i.id="license-notification-kda",i.innerHTML=`\n    <div style="\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);\n      color: white;\n      padding: 20px 25px;\n      border-radius: 12px;\n      box-shadow: 0 10px 40px rgba(0,0,0,0.3);\n      z-index: 999999;\n      max-width: 350px;\n      font-family: 'Segoe UI', Arial, sans-serif;\n    ">\n      <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 10px;">\n        <span style="font-size: 28px;"></span>\n        <strong style="font-size: 16px;">Webinar Catastro - Licencia Requerida</strong>\n      </div>\n      <p style="margin: 0 0 15px 0; font-size: 13px; opacity: 0.95; line-height: 1.5;">\n        ${e.expired?"Su licencia ha expirado. Por favor renueve para continuar usando la extensi贸n.":e.notFound?"Licencia no encontrada. Por favor active su licencia.":"Se requiere una licencia v谩lida para usar esta extensi贸n."}\n      </p>\n      <p style="margin: 0 0 15px 0; font-size: 12px; opacity: 0.8;">\n        La automatizaci贸n de cotitularidad no se ejecutar谩 hasta que active una licencia v谩lida.\n      </p>\n      <div style="display: flex; gap: 10px; flex-wrap: wrap;">\n        <a href="https://wa.me/51${LICENSE_CONFIG.SUPPORT_PHONE}" target="_blank" style="\n          padding: 8px 16px;\n          background: white;\n          color: #16a34a;\n          text-decoration: none;\n          border-radius: 6px;\n          font-size: 12px;\n          font-weight: 600;\n        "> Contactar: ${LICENSE_CONFIG.SUPPORT_PHONE}</a>\n        <button onclick="this.closest('#license-notification-kda').remove()" style="\n          padding: 8px 16px;\n          background: rgba(255,255,255,0.2);\n          color: white;\n          border: none;\n          border-radius: 6px;\n          font-size: 12px;\n          cursor: pointer;\n        ">Cerrar</button>\n      </div>\n    </div>\n  `,document.body.appendChild(i),setTimeout(()=>{const e=document.getElementById("license-notification-kda");e&&e.remove()},3e4)}async function initCotitularidad(){console.log("%c[FichaCatastral-Cotitularidad] Verificando licencia...","color: #3b82f6");await verifyLicenseForCotitularidad()?console.log("%c[FichaCatastral-Cotitularidad] Iniciando automatizaci贸n...","color: #22c55e"):console.log("%c[FichaCatastral-Cotitularidad] Automatizaci贸n detenida: Licencia no v谩lida","color: #ef4444")}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initCotitularidad):initCotitularidad();